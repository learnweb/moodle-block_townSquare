{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template block_townsquare/activitycompletionletter

    This template renders a activity completion letter.

    Variables required for this template (more variables are available for testing and future features):
    * contentid - Unique identification for every shown plugin content
    * isactivitycompletion - Variable for the blockcontent template to assure this template is used.
    * coursename - Name of the course
    * courseid - Id of the course
    * instancename - Name of the instance
    * created - Due date of activity completions
    * linktocourse - Link to the course
    * linktoactivity - Link to the module instance
    * completionlettercolor - Color of the letter

    Example (json):
    {
        "contentid": 28,
        "isactivitycompletion": true,
        "coursename": "Moodle Engineering",
        "courseid": 3,
        "modulename": "survey",
        "instancename": "How difficult was the exam?",
        "created": "28.10.2023",
        "linktoactivity": "http://localhost/moodle/mod/survey/view.php?id=72",
        "linktocourse": "http://localhost/moodle/course/view.php?id=3"
        "completionlettercolor": "#ca3120"
    }
}}
<div class="townsquare_letter completionletter card mb-3" id="content-nr-{{contentid}}"
     style="border-color: {{completionlettercolor}}">
    <div class="townsquareletter_header completionletter_header card-header" style="background-color: {{completionlettercolor}}">
        <div class = "townsquareletter_top completionletter_top">
            <div class = "townsquareletter_course completionletter_course" id="{{courseid}}">
                {{#str}} coursetitle, moodle, {"course":
                    {{#quote}} <a href='{{linktocourse}}' class="townsquareletter_courselink">{{coursename}} </a> {{/quote}} }
                {{/str}}
            </div>
            <div class = "townsquareletter_date completionletter_date" id="{{createdtimestamp}}">
                {{created}}
            </div>
        </div>
    </div>
    <div class="townsquareletter_body completionletter_body card-body">
        <div class="completionletter_content">
            <b>
                {{#str}} completionletterorigin, block_townsquare, {
                    "modulename": {{#quote}} <a href='{{linktoactivity}}'>{{instancename}}</a> {{/quote}},
                    "date": {{#quote}} {{created}} {{/quote}} }
                {{/str}}
            </b>
        </div>
    </div>
</div>