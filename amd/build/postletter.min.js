define("block_townsquare/postletter",["exports","core/str"],(function(_exports,_str){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=function(){contentElements.forEach((element=>{element.textContent.length>=250?(originalTexts[element.id]=element.textContent,element.textContent=element.textContent.substring(0,250)+"...",buttons[element.id].setAttribute("showmore","true")):buttons[element.id].style.display="none"})),registerEventListener()};
/**
   * Javascript for the post letter
   *
   * @module     block_townsquare/postletter
   * @copyright  2023 Tamaro Walter
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
const contentElements=document.getElementsByClassName("postletter_message"),buttons=document.getElementsByClassName("townsquare_showmore"),originalTexts=[],Selectors_actions={seemorebutton:'[data-action="block_townsquare/showmore_button"]'};const registerEventListener=()=>{document.addEventListener("click",(e=>{if(e.target.closest(Selectors_actions.seemorebutton)){let letterid=e.target.id;contentElements.forEach((element=>{element.id==letterid&&(buttons[letterid].getAttribute("showmore")?(element.textContent=originalTexts[letterid],buttons[letterid].textContent=(0,_str.getString)("showless","block_townsquare"),buttons[letterid].setAttribute("showmore","false")):(element.textContent=element.textContent.substring(0,250)+"...",buttons[letterid].textContent=(0,_str.getString)("showmore","block_townsquare"),buttons[letterid].setAttribute("showmore","true")))}))}}))}}));

//# sourceMappingURL=postletter.min.js.map